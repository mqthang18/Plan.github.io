<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Questionaire</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
   
    <!-- Add vuejs package -->
    <script src="https://unpkg.com/vue-router@2.0.0"></script>
    <!-- bản production, được tối ưu về dung lượng và tốc độ -->
    <script src="https://cdn.jsdelivr.net/npm/vue"></script>
    <!-- Get content -->
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

    <link rel="stylesheet" href="./public/style/HRA.css">
</head>
<body>
    <ul id="navigation">
        <li><a href="?topic=HRA">HRA</a></li>
        <li><a href="?topic=HQ">HQ</a></li>
        <li><a href="?topic=PA">PA</a></li>
    </ul>

    <script>
        var url = window.location.href;
        // alert(url);
        var url = new URL(url);
        var topic = url.searchParams.get("topic");
        
        if (topic !== null) {
            // alert(topic)
            var reload = 0; 
            $('#navigation').hide();
            CreateTagInHeader(topic, 'script')
            var listEl = {
                1: ['div', 'header'],
                2: ['div', 'container'],
                3: ['div', 'data'],
                4: ['div', 'footer'],
                5: ['script', './public/js/'.concat(topic,'.js')],
                6: ['script', 'main.js']
            }

            for (var i = 1; i <= Object.keys(listEl).length; i++) {
                CreateTag(listEl[i][0], listEl[i][1], 'body')
            }
        
        } 

        function CreateTag(tag, str, pos) {
            var a = document.createElement(tag);
            if (tag == 'div') {
                a.setAttribute('id', str);
            } else {
                a.setAttribute('src', str);
            }
            switch(pos) {
                case 'body': 
                    document.body.appendChild(a);
                    break;
                case 'head':
                    document.head.appendChild(a);
            }            
        }

        function CreateTagInHeader(topic, tag) {
            var listPath = [
                'src/views/pages/[Category]/header.js',
                'src/views/pages/[Category]/container.js',
                'src/views/pages/[Category]/data.js',
                'src/views/blocks/footer.js'
            ]

            switch(topic) {
                case 'HQ':
                    for (var i = 0; i < listPath.length; i++) {
                        CreateTag('script', listPath[i].replace('[Category]',topic), 'head');
                    }
                    break;
                case 'HRA':
                    for (var i = 0; i < listPath.length; i++) {
                        CreateTag('script', listPath[i].replace('[Category]',topic), 'head');
                    }
                    break;
                case 'PA': 
                    for (var i = 0; i < listPath.length; i++) {
                        CreateTag('script', listPath[i].replace('[Category]',topic), 'head');
                    }
                    break;
            }      
        }
    
    </script>
</body>
</html>
